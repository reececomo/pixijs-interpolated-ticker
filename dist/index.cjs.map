{"version":3,"file":"index.cjs","sources":["../src/InterpolatedTicker.ts"],"sourcesContent":[null],"names":["InterpolatedTicker","constructor","app","updateIntervalMs","initialCapacity","this","maxUpdatesPerRender","_previousTime","_accumulator","_isRunning","_speed","_maxRenderFPS","_maxRenderIntervalMs","_idxContainersCount","_prevIdxContainersCount","_maxIdx","_releasedIdx","_app","_targetUpdateIntervalMs","_updateIntervalMs","capacity","_capacity","_idxContainers","Array","propBytes","Float32Array","BYTES_PER_ELEMENT","memoryNeeded","_buffer","ArrayBuffer","i","allocate","_prevX","_prevY","_prevRotation","_prevScaleX","_prevScaleY","_prevAlpha","_shadowX","_shadowY","_shadowRotation","_shadowScaleX","_shadowScaleY","_shadowAlpha","speed","value","maxRenderFPS","start","loop","now","performance","renderDelta","requestAnimationFrame","Math","min","_captureContainers","_a","update","call","_interpolateContainers","_b","onRender","renderer","render","stage","_restoreContainers","stop","getDefaultInterpolation","container","_resizeBuffer","newCapacity","newBuffer","allocateAndCopy","oldArray","newArray","set","_captureContainersTraverseSubtree","_markReleased","undefined","destroyed","interpolation","index","_interpIdx","pop","position","_x","_y","scale","rotation","alpha","children","_c","interpolatedChildren","length","accumulated","rawFactor","factor","wrapConfig","interpolationWraparound","dx","dy","xrange","xRange","yrange","yRange","rotationDelta","PI","push"],"mappings":"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"}